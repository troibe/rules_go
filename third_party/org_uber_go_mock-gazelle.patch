diff -urN a/gomock/BUILD.bazel b/gomock/BUILD.bazel
--- a/gomock/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/gomock/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,35 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "gomock",
+    srcs = [
+        "call.go",
+        "callset.go",
+        "controller.go",
+        "doc.go",
+        "matchers.go",
+    ],
+    importpath = "go.uber.org/mock/gomock",
+    visibility = ["//visibility:public"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":gomock",
+    visibility = ["//visibility:public"],
+)
+
+go_test(
+    name = "gomock_test",
+    srcs = [
+        "call_test.go",
+        "callset_test.go",
+        "controller_test.go",
+        "example_test.go",
+        "matchers_test.go",
+        "mock_test.go",
+        "overridable_controller_test.go",
+    ],
+    embed = [":gomock"],
+    deps = ["//gomock/internal/mock_gomock"],
+)
diff -urN a/gomock/internal/mock_gomock/BUILD.bazel b/gomock/internal/mock_gomock/BUILD.bazel
--- a/gomock/internal/mock_gomock/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/gomock/internal/mock_gomock/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,15 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "mock_gomock",
+    srcs = ["mock_matcher.go"],
+    importpath = "go.uber.org/mock/gomock/internal/mock_gomock",
+    visibility = ["//gomock:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":mock_gomock",
+    visibility = ["//gomock:__subpackages__"],
+)
diff -urN a/mockgen/BUILD.bazel b/mockgen/BUILD.bazel
--- a/mockgen/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,36 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_binary", "go_library", "go_test")
+
+go_library(
+    name = "mockgen_lib",
+    srcs = [
+        "generic_go118.go",
+        "generic_notgo118.go",
+        "mockgen.go",
+        "parse.go",
+        "reflect.go",
+        "version.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen",
+    visibility = ["//visibility:private"],
+    deps = [
+        "//mockgen/model",
+        "@org_golang_x_mod//modfile:go_default_library",
+        "@org_golang_x_tools//imports:go_default_library",
+    ],
+)
+
+go_binary(
+    name = "mockgen",
+    embed = [":mockgen_lib"],
+    visibility = ["//visibility:public"],
+)
+
+go_test(
+    name = "mockgen_test",
+    srcs = [
+        "mockgen_test.go",
+        "parse_test.go",
+    ],
+    embed = [":mockgen_lib"],
+    deps = ["//mockgen/model"],
+)
diff -urN a/mockgen/internal/tests/add_generate_directive/BUILD.bazel b/mockgen/internal/tests/add_generate_directive/BUILD.bazel
--- a/mockgen/internal/tests/add_generate_directive/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/add_generate_directive/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "add_generate_directive",
+    srcs = [
+        "import.go",
+        "mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/add_generate_directive",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":add_generate_directive",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/aux_imports_embedded_interface/BUILD.bazel b/mockgen/internal/tests/aux_imports_embedded_interface/BUILD.bazel
--- a/mockgen/internal/tests/aux_imports_embedded_interface/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/aux_imports_embedded_interface/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,28 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "aux_imports_embedded_interface",
+    srcs = [
+        "bugreport.go",
+        "bugreport_mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/aux_imports_embedded_interface",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/aux_imports_embedded_interface/faux",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":aux_imports_embedded_interface",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "aux_imports_embedded_interface_test",
+    srcs = ["bugreport_test.go"],
+    embed = [":aux_imports_embedded_interface"],
+    deps = ["//gomock"],
+)
diff -urN a/mockgen/internal/tests/aux_imports_embedded_interface/faux/BUILD.bazel b/mockgen/internal/tests/aux_imports_embedded_interface/faux/BUILD.bazel
--- a/mockgen/internal/tests/aux_imports_embedded_interface/faux/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/aux_imports_embedded_interface/faux/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "faux",
+    srcs = ["faux.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/aux_imports_embedded_interface/faux",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":faux",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/const_array_length/BUILD.bazel b/mockgen/internal/tests/const_array_length/BUILD.bazel
--- a/mockgen/internal/tests/const_array_length/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/const_array_length/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "const_array_length",
+    srcs = [
+        "input.go",
+        "mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/const_array_length",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":const_array_length",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/copyright_file/BUILD.bazel b/mockgen/internal/tests/copyright_file/BUILD.bazel
--- a/mockgen/internal/tests/copyright_file/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/copyright_file/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "copyright_file",
+    srcs = [
+        "input.go",
+        "mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/copyright_file",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":copyright_file",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/custom_package_name/client/v1/BUILD.bazel b/mockgen/internal/tests/custom_package_name/client/v1/BUILD.bazel
--- a/mockgen/internal/tests/custom_package_name/client/v1/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/custom_package_name/client/v1/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "client",
+    srcs = ["client.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/custom_package_name/client/v1",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":client",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/custom_package_name/greeter/BUILD.bazel b/mockgen/internal/tests/custom_package_name/greeter/BUILD.bazel
--- a/mockgen/internal/tests/custom_package_name/greeter/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/custom_package_name/greeter/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,31 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "greeter",
+    srcs = ["greeter.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/custom_package_name/greeter",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//mockgen/internal/tests/custom_package_name/client/v1:client",
+        "//mockgen/internal/tests/custom_package_name/validator",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":greeter",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "greeter_test",
+    srcs = [
+        "greeter_mock_test.go",
+        "greeter_test.go",
+    ],
+    embed = [":greeter"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/custom_package_name/client/v1:client",
+    ],
+)
diff -urN a/mockgen/internal/tests/custom_package_name/validator/BUILD.bazel b/mockgen/internal/tests/custom_package_name/validator/BUILD.bazel
--- a/mockgen/internal/tests/custom_package_name/validator/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/custom_package_name/validator/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "validator",
+    srcs = ["validate.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/custom_package_name/validator",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":validator",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/defined_import_local_name/BUILD.bazel b/mockgen/internal/tests/defined_import_local_name/BUILD.bazel
--- a/mockgen/internal/tests/defined_import_local_name/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/defined_import_local_name/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "defined_import_local_name",
+    srcs = [
+        "input.go",
+        "mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/defined_import_local_name",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":defined_import_local_name",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/dot_imports/BUILD.bazel b/mockgen/internal/tests/dot_imports/BUILD.bazel
--- a/mockgen/internal/tests/dot_imports/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/dot_imports/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "dot_imports",
+    srcs = [
+        "input.go",
+        "mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/dot_imports",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":dot_imports",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/empty_interface/BUILD.bazel b/mockgen/internal/tests/empty_interface/BUILD.bazel
--- a/mockgen/internal/tests/empty_interface/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/empty_interface/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "empty_interface",
+    srcs = [
+        "input.go",
+        "mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/empty_interface",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":empty_interface",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/exclude/BUILD.bazel b/mockgen/internal/tests/exclude/BUILD.bazel
--- a/mockgen/internal/tests/exclude/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/exclude/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "exclude",
+    srcs = [
+        "interfaces.go",
+        "mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/exclude",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":exclude",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/extra_import/BUILD.bazel b/mockgen/internal/tests/extra_import/BUILD.bazel
--- a/mockgen/internal/tests/extra_import/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/extra_import/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "extra_import",
+    srcs = [
+        "import.go",
+        "mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/extra_import",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":extra_import",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/generated_identifier_conflict/BUILD.bazel b/mockgen/internal/tests/generated_identifier_conflict/BUILD.bazel
--- a/mockgen/internal/tests/generated_identifier_conflict/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/generated_identifier_conflict/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,25 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "generated_identifier_conflict",
+    srcs = [
+        "bugreport.go",
+        "bugreport_mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/generated_identifier_conflict",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":generated_identifier_conflict",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "generated_identifier_conflict_test",
+    srcs = ["bugreport_test.go"],
+    embed = [":generated_identifier_conflict"],
+    deps = ["//gomock"],
+)
diff -urN a/mockgen/internal/tests/generics/BUILD.bazel b/mockgen/internal/tests/generics/BUILD.bazel
--- a/mockgen/internal/tests/generics/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/generics/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,21 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "generics",
+    srcs = [
+        "external.go",
+        "generics.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/generics",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//mockgen/internal/tests/generics/other",
+        "@org_golang_x_exp//constraints:go_default_library",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":generics",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/generics/other/BUILD.bazel b/mockgen/internal/tests/generics/other/BUILD.bazel
--- a/mockgen/internal/tests/generics/other/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/generics/other/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "other",
+    srcs = ["other.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/generics/other",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":other",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/generics/source/BUILD.bazel b/mockgen/internal/tests/generics/source/BUILD.bazel
--- a/mockgen/internal/tests/generics/source/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/generics/source/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,33 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "source",
+    srcs = [
+        "mock_external_mock.go",
+        "mock_generics_mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/generics/source",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/generics",
+        "//mockgen/internal/tests/generics/other",
+        "@org_golang_x_exp//constraints:go_default_library",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":source",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "source_test",
+    srcs = ["mock_external_test.go"],
+    embed = [":source"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/generics",
+    ],
+)
diff -urN a/mockgen/internal/tests/import_embedded_interface/BUILD.bazel b/mockgen/internal/tests/import_embedded_interface/BUILD.bazel
--- a/mockgen/internal/tests/import_embedded_interface/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/import_embedded_interface/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,36 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "import_embedded_interface",
+    srcs = [
+        "bugreport.go",
+        "bugreport_mock.go",
+        "foo.go",
+        "net.go",
+        "net_mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/import_embedded_interface",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/import_embedded_interface/ersatz",
+        "//mockgen/internal/tests/import_embedded_interface/faux",
+        "//mockgen/internal/tests/import_embedded_interface/other/ersatz",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":import_embedded_interface",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "import_embedded_interface_test",
+    srcs = [
+        "bugreport_test.go",
+        "net_test.go",
+    ],
+    embed = [":import_embedded_interface"],
+    deps = ["//gomock"],
+)
diff -urN a/mockgen/internal/tests/import_embedded_interface/ersatz/BUILD.bazel b/mockgen/internal/tests/import_embedded_interface/ersatz/BUILD.bazel
--- a/mockgen/internal/tests/import_embedded_interface/ersatz/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/import_embedded_interface/ersatz/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "ersatz",
+    srcs = ["ersatz.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/import_embedded_interface/ersatz",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":ersatz",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/import_embedded_interface/faux/BUILD.bazel b/mockgen/internal/tests/import_embedded_interface/faux/BUILD.bazel
--- a/mockgen/internal/tests/import_embedded_interface/faux/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/import_embedded_interface/faux/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,21 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "faux",
+    srcs = [
+        "conflict.go",
+        "faux.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/import_embedded_interface/faux",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//mockgen/internal/tests/import_embedded_interface/other/ersatz",
+        "//mockgen/internal/tests/import_embedded_interface/other/log",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":faux",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/import_embedded_interface/other/ersatz/BUILD.bazel b/mockgen/internal/tests/import_embedded_interface/other/ersatz/BUILD.bazel
--- a/mockgen/internal/tests/import_embedded_interface/other/ersatz/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/import_embedded_interface/other/ersatz/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "ersatz",
+    srcs = ["ersatz.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/import_embedded_interface/other/ersatz",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":ersatz",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/import_embedded_interface/other/log/BUILD.bazel b/mockgen/internal/tests/import_embedded_interface/other/log/BUILD.bazel
--- a/mockgen/internal/tests/import_embedded_interface/other/log/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/import_embedded_interface/other/log/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "log",
+    srcs = ["log.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/import_embedded_interface/other/log",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":log",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/import_source/BUILD.bazel b/mockgen/internal/tests/import_source/BUILD.bazel
--- a/mockgen/internal/tests/import_source/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/import_source/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "import_source",
+    srcs = ["source_mock.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/import_source",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/import_source/definition",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":import_source",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/import_source/definition/BUILD.bazel b/mockgen/internal/tests/import_source/definition/BUILD.bazel
--- a/mockgen/internal/tests/import_source/definition/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/import_source/definition/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "definition",
+    srcs = [
+        "source.go",
+        "source_mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/import_source/definition",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":definition",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/internal_pkg/BUILD.bazel b/mockgen/internal/tests/internal_pkg/BUILD.bazel
--- a/mockgen/internal/tests/internal_pkg/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/internal_pkg/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "internal_pkg",
+    srcs = ["generate.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/internal_pkg",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":internal_pkg",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/BUILD.bazel b/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/BUILD.bazel
--- a/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "pkg",
+    srcs = ["input.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/internal_pkg/subdir/internal/pkg",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":pkg",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/reflect_output/BUILD.bazel b/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/reflect_output/BUILD.bazel
--- a/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/reflect_output/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/reflect_output/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "reflect_output",
+    srcs = ["mock.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/reflect_output",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/internal_pkg/subdir/internal/pkg",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":reflect_output",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/source_output/BUILD.bazel b/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/source_output/BUILD.bazel
--- a/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/source_output/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/source_output/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "source_output",
+    srcs = ["mock.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/internal_pkg/subdir/internal/pkg/source_output",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/internal_pkg/subdir/internal/pkg",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":source_output",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/missing_import/output/BUILD.bazel b/mockgen/internal/tests/missing_import/output/BUILD.bazel
--- a/mockgen/internal/tests/missing_import/output/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/missing_import/output/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "output",
+    srcs = ["source_mock.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/missing_import/output",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/missing_import/source",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":output",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/missing_import/source/BUILD.bazel b/mockgen/internal/tests/missing_import/source/BUILD.bazel
--- a/mockgen/internal/tests/missing_import/source/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/missing_import/source/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "source",
+    srcs = ["source.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/missing_import/source",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":source",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/mock_in_test_package/BUILD.bazel b/mockgen/internal/tests/mock_in_test_package/BUILD.bazel
--- a/mockgen/internal/tests/mock_in_test_package/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/mock_in_test_package/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,23 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "mock_in_test_package",
+    srcs = ["user.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/mock_in_test_package",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":mock_in_test_package",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "mock_in_test_package_test",
+    srcs = ["mock_test.go"],
+    deps = [
+        ":mock_in_test_package",
+        "//gomock",
+    ],
+)
diff -urN a/mockgen/internal/tests/mock_name/BUILD.bazel b/mockgen/internal/tests/mock_name/BUILD.bazel
--- a/mockgen/internal/tests/mock_name/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/mock_name/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,26 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "mock_name",
+    srcs = ["mocks.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/mock_name",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":mock_name",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "mock_name_test",
+    srcs = ["mocks_test.go"],
+    embed = [":mock_name"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/mock_name/mocks",
+        "//mockgen/internal/tests/mock_name/post",
+        "//mockgen/internal/tests/mock_name/user",
+    ],
+)
diff -urN a/mockgen/internal/tests/mock_name/mocks/BUILD.bazel b/mockgen/internal/tests/mock_name/mocks/BUILD.bazel
--- a/mockgen/internal/tests/mock_name/mocks/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/mock_name/mocks/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,22 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "mocks",
+    srcs = [
+        "post_service.go",
+        "user_service.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/mock_name/mocks",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/mock_name/post",
+        "//mockgen/internal/tests/mock_name/user",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":mocks",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/mock_name/post/BUILD.bazel b/mockgen/internal/tests/mock_name/post/BUILD.bazel
--- a/mockgen/internal/tests/mock_name/post/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/mock_name/post/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,15 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "post",
+    srcs = ["service.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/mock_name/post",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//mockgen/internal/tests/mock_name/user"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":post",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/mock_name/user/BUILD.bazel b/mockgen/internal/tests/mock_name/user/BUILD.bazel
--- a/mockgen/internal/tests/mock_name/user/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/mock_name/user/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "user",
+    srcs = ["service.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/mock_name/user",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":user",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/overlapping_methods/BUILD.bazel b/mockgen/internal/tests/overlapping_methods/BUILD.bazel
--- a/mockgen/internal/tests/overlapping_methods/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/overlapping_methods/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,26 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "overlapping_methods",
+    srcs = [
+        "interfaces.go",
+        "mock.go",
+        "overlap.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/overlapping_methods",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":overlapping_methods",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "overlapping_methods_test",
+    srcs = ["overlap_test.go"],
+    embed = [":overlapping_methods"],
+    deps = ["//gomock"],
+)
diff -urN a/mockgen/internal/tests/panicing_test/BUILD.bazel b/mockgen/internal/tests/panicing_test/BUILD.bazel
--- a/mockgen/internal/tests/panicing_test/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/panicing_test/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,21 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "panicing_test",
+    srcs = ["panic.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/panicing_test",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":panicing_test",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "panicing_test_test",
+    srcs = ["mock_test.go"],
+    embed = [":panicing_test"],
+    deps = ["//gomock"],
+)
diff -urN a/mockgen/internal/tests/parenthesized_parameter_type/BUILD.bazel b/mockgen/internal/tests/parenthesized_parameter_type/BUILD.bazel
--- a/mockgen/internal/tests/parenthesized_parameter_type/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/parenthesized_parameter_type/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "parenthesized_parameter_type",
+    srcs = [
+        "input.go",
+        "mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/parenthesized_parameter_type",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":parenthesized_parameter_type",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/performance/big_interface/BUILD.bazel b/mockgen/internal/tests/performance/big_interface/BUILD.bazel
--- a/mockgen/internal/tests/performance/big_interface/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/performance/big_interface/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "big_interface",
+    srcs = ["big_interface.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/performance/big_interface",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":big_interface",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/sanitization/any/BUILD.bazel b/mockgen/internal/tests/sanitization/any/BUILD.bazel
--- a/mockgen/internal/tests/sanitization/any/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/sanitization/any/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "any",
+    srcs = ["any.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/sanitization/any",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":any",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/sanitization/BUILD.bazel b/mockgen/internal/tests/sanitization/BUILD.bazel
--- a/mockgen/internal/tests/sanitization/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/sanitization/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,26 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "sanitization",
+    srcs = ["interface.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/sanitization",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//mockgen/internal/tests/sanitization/any"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":sanitization",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "sanitization_test",
+    srcs = ["sanitization_test.go"],
+    embed = [":sanitization"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/sanitization/any",
+        "//mockgen/internal/tests/sanitization/mockout",
+    ],
+)
diff -urN a/mockgen/internal/tests/sanitization/mockout/BUILD.bazel b/mockgen/internal/tests/sanitization/mockout/BUILD.bazel
--- a/mockgen/internal/tests/sanitization/mockout/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/sanitization/mockout/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "mockout",
+    srcs = ["mock.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/sanitization/mockout",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/sanitization/any",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":mockout",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/self_package/BUILD.bazel b/mockgen/internal/tests/self_package/BUILD.bazel
--- a/mockgen/internal/tests/self_package/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/self_package/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "self_package",
+    srcs = [
+        "mock.go",
+        "types.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/self_package",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":self_package",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/test_package/BUILD.bazel b/mockgen/internal/tests/test_package/BUILD.bazel
--- a/mockgen/internal/tests/test_package/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/test_package/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,23 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "test_package",
+    srcs = ["foo.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/test_package",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":test_package",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "test_package_test",
+    srcs = [
+        "mock_test.go",
+        "user_test.go",
+    ],
+    deps = ["//gomock"],
+)
diff -urN a/mockgen/internal/tests/typed/BUILD.bazel b/mockgen/internal/tests/typed/BUILD.bazel
--- a/mockgen/internal/tests/typed/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/typed/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,32 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "typed",
+    srcs = [
+        "bugreport.go",
+        "bugreport_mock.go",
+        "external.go",
+        "generics.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/typed",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/typed/faux",
+        "//mockgen/internal/tests/typed/other",
+        "@org_golang_x_exp//constraints:go_default_library",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":typed",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "typed_test",
+    srcs = ["bugreport_test.go"],
+    embed = [":typed"],
+    deps = ["//gomock"],
+)
diff -urN a/mockgen/internal/tests/typed/faux/BUILD.bazel b/mockgen/internal/tests/typed/faux/BUILD.bazel
--- a/mockgen/internal/tests/typed/faux/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/typed/faux/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "faux",
+    srcs = ["faux.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/typed/faux",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":faux",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/typed/other/BUILD.bazel b/mockgen/internal/tests/typed/other/BUILD.bazel
--- a/mockgen/internal/tests/typed/other/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/typed/other/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "other",
+    srcs = ["other.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/typed/other",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":other",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/typed/source/BUILD.bazel b/mockgen/internal/tests/typed/source/BUILD.bazel
--- a/mockgen/internal/tests/typed/source/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/typed/source/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,15 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_test")
+
+go_test(
+    name = "source_test",
+    srcs = [
+        "mock_external_test.go",
+        "mock_generics_test.go",
+    ],
+    deps = [
+        "//gomock",
+        "//mockgen/internal/tests/typed",
+        "//mockgen/internal/tests/typed/other",
+        "@org_golang_x_exp//constraints:go_default_library",
+    ],
+)
diff -urN a/mockgen/internal/tests/typed_inorder/BUILD.bazel b/mockgen/internal/tests/typed_inorder/BUILD.bazel
--- a/mockgen/internal/tests/typed_inorder/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/typed_inorder/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,25 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "typed_inorder",
+    srcs = [
+        "input.go",
+        "mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/typed_inorder",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":typed_inorder",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "typed_inorder_test",
+    srcs = ["input_test.go"],
+    embed = [":typed_inorder"],
+    deps = ["//gomock"],
+)
diff -urN a/mockgen/internal/tests/unexported_method/BUILD.bazel b/mockgen/internal/tests/unexported_method/BUILD.bazel
--- a/mockgen/internal/tests/unexported_method/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/unexported_method/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,25 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "unexported_method",
+    srcs = [
+        "bugreport.go",
+        "bugreport_mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/unexported_method",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":unexported_method",
+    visibility = ["//mockgen:__subpackages__"],
+)
+
+go_test(
+    name = "unexported_method_test",
+    srcs = ["bugreport_test.go"],
+    embed = [":unexported_method"],
+    deps = ["//gomock"],
+)
diff -urN a/mockgen/internal/tests/vendor_dep/BUILD.bazel b/mockgen/internal/tests/vendor_dep/BUILD.bazel
--- a/mockgen/internal/tests/vendor_dep/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/vendor_dep/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,22 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "vendor_dep",
+    srcs = [
+        "doc.go",
+        "mock.go",
+        "vendor_dep.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/vendor_dep",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "@org_golang_x_tools//present:go_default_library",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":vendor_dep",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/vendor_dep/source_mock_package/BUILD.bazel b/mockgen/internal/tests/vendor_dep/source_mock_package/BUILD.bazel
--- a/mockgen/internal/tests/vendor_dep/source_mock_package/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/vendor_dep/source_mock_package/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "source_mock_package",
+    srcs = ["mock.go"],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/vendor_dep/source_mock_package",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = [
+        "//gomock",
+        "@org_golang_x_tools//present:go_default_library",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":source_mock_package",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/internal/tests/vendor_pkg/BUILD.bazel b/mockgen/internal/tests/vendor_pkg/BUILD.bazel
--- a/mockgen/internal/tests/vendor_pkg/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/internal/tests/vendor_pkg/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,18 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "vendor_pkg",
+    srcs = [
+        "doc.go",
+        "mock.go",
+    ],
+    importpath = "go.uber.org/mock/mockgen/internal/tests/vendor_pkg",
+    visibility = ["//mockgen:__subpackages__"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":vendor_pkg",
+    visibility = ["//mockgen:__subpackages__"],
+)
diff -urN a/mockgen/model/BUILD.bazel b/mockgen/model/BUILD.bazel
--- a/mockgen/model/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/mockgen/model/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,20 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "model",
+    srcs = ["model.go"],
+    importpath = "go.uber.org/mock/mockgen/model",
+    visibility = ["//visibility:public"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":model",
+    visibility = ["//visibility:public"],
+)
+
+go_test(
+    name = "model_test",
+    srcs = ["model_test.go"],
+    embed = [":model"],
+)
diff -urN a/sample/BUILD.bazel b/sample/BUILD.bazel
--- a/sample/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/sample/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,36 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "sample",
+    srcs = ["user.go"],
+    importpath = "go.uber.org/mock/sample",
+    visibility = ["//visibility:public"],
+    deps = [
+        "//sample/imp1",
+        "//sample/imp2",
+        "//sample/imp3",
+        "//sample/imp4",
+    ],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":sample",
+    visibility = ["//visibility:public"],
+)
+
+go_test(
+    name = "sample_test",
+    srcs = [
+        "mock_user_test.go",
+        "user_test.go",
+    ],
+    deps = [
+        ":sample",
+        "//gomock",
+        "//sample/imp1",
+        "//sample/imp2",
+        "//sample/imp3",
+        "//sample/imp4",
+    ],
+)
diff -urN a/sample/concurrent/BUILD.bazel b/sample/concurrent/BUILD.bazel
--- a/sample/concurrent/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/sample/concurrent/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,24 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")
+
+go_library(
+    name = "concurrent",
+    srcs = ["concurrent.go"],
+    importpath = "go.uber.org/mock/sample/concurrent",
+    visibility = ["//visibility:public"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":concurrent",
+    visibility = ["//visibility:public"],
+)
+
+go_test(
+    name = "concurrent_test",
+    srcs = ["concurrent_test.go"],
+    embed = [":concurrent"],
+    deps = [
+        "//gomock",
+        "//sample/concurrent/mock",
+    ],
+)
diff -urN a/sample/concurrent/mock/BUILD.bazel b/sample/concurrent/mock/BUILD.bazel
--- a/sample/concurrent/mock/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/sample/concurrent/mock/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,15 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "mock",
+    srcs = ["concurrent_mock.go"],
+    importpath = "go.uber.org/mock/sample/concurrent/mock",
+    visibility = ["//visibility:public"],
+    deps = ["//gomock"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":mock",
+    visibility = ["//visibility:public"],
+)
diff -urN a/sample/imp1/BUILD.bazel b/sample/imp1/BUILD.bazel
--- a/sample/imp1/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/sample/imp1/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "imp1",
+    srcs = ["imp1.go"],
+    importpath = "go.uber.org/mock/sample/imp1",
+    visibility = ["//visibility:public"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":imp1",
+    visibility = ["//visibility:public"],
+)
diff -urN a/sample/imp2/BUILD.bazel b/sample/imp2/BUILD.bazel
--- a/sample/imp2/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/sample/imp2/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "imp2",
+    srcs = ["imp2.go"],
+    importpath = "go.uber.org/mock/sample/imp2",
+    visibility = ["//visibility:public"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":imp2",
+    visibility = ["//visibility:public"],
+)
diff -urN a/sample/imp3/BUILD.bazel b/sample/imp3/BUILD.bazel
--- a/sample/imp3/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/sample/imp3/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "imp3",
+    srcs = ["imp3.go"],
+    importpath = "go.uber.org/mock/sample/imp3",
+    visibility = ["//visibility:public"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":imp3",
+    visibility = ["//visibility:public"],
+)
diff -urN a/sample/imp4/BUILD.bazel b/sample/imp4/BUILD.bazel
--- a/sample/imp4/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/sample/imp4/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,14 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_library")
+
+go_library(
+    name = "imp4",
+    srcs = ["imp4.go"],
+    importpath = "go.uber.org/mock/sample/imp4",
+    visibility = ["//visibility:public"],
+)
+
+alias(
+    name = "go_default_library",
+    actual = ":imp4",
+    visibility = ["//visibility:public"],
+)
diff -urN a/tools/cmd/extract-changelog/BUILD.bazel b/tools/cmd/extract-changelog/BUILD.bazel
--- a/tools/cmd/extract-changelog/BUILD.bazel	1970-01-01 01:00:00.000000000 +0100
+++ b/tools/cmd/extract-changelog/BUILD.bazel	2000-01-01 00:00:00.000000000 -0000
@@ -0,0 +1,24 @@
+load("@io_bazel_rules_go//go:def.bzl", "go_binary", "go_library", "go_test")
+
+go_library(
+    name = "extract-changelog_lib",
+    srcs = ["main.go"],
+    importpath = "go.uber.org/mock/tools/cmd/extract-changelog",
+    visibility = ["//visibility:private"],
+)
+
+go_binary(
+    name = "extract-changelog",
+    embed = [":extract-changelog_lib"],
+    visibility = ["//visibility:public"],
+)
+
+go_test(
+    name = "extract-changelog_test",
+    srcs = ["main_test.go"],
+    embed = [":extract-changelog_lib"],
+    deps = [
+        "@com_github_stretchr_testify//assert:go_default_library",
+        "@com_github_stretchr_testify//require:go_default_library",
+    ],
+)
